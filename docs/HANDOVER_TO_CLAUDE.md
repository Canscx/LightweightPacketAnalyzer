# 项目交接文档 (Handover to Claude)

**项目名称：** 网络流量统计分析工具 (Network Traffic Statistics Analyzer)

**当前负责人：** Gemini 2.5 Pro

**交接对象：** Claude 4 Sonnet

---

## 1. 项目概述

本项目是一个计算机网络课程设计，目标是开发一个轻量级的“网络流量统计”工具。该工具需要能够捕获网络接口的数据包，按源IP地址统计流量，并通过图形用户界面（GUI）和图表进行可视化展示。

根据用户的要求，项目最终需要满足一份工作量饱满（正文15页以上，1万字以上）的课程设计报告。

**核心需求：**

-   实时捕获指定网卡的IP数据包。
-   按源IP地址统计在特定时间段内发出的数据包个数。
-   通过GUI界面进行操作（开始/停止捕获、选择网卡等）。
-   将统计结果用图形化（如柱状图）表示。

## 2. 开发语言与核心技术栈

-   **编程语言：** **Python 3.8+**
-   **GUI框架：** **Tkinter** (Python标准库，无需额外安装)
-   **网络抓包与解析：** **Scapy**
-   **数据可视化：** **Matplotlib**
-   **底层依赖 (Windows):** **Npcap** (Scapy在Windows上抓包需要此依赖，需要预先安装)

## 3. 已完成的工作

1.  **需求对齐与技术选型**：已与用户确认项目方向为“网络流量统计”，并确定使用Python及上述技术栈。
2.  **课程设计报告初稿**：已创建课程设计报告文档 `docs/课程设计报告.md`，并完成了前两章的撰写：
    -   **第一章 引言**：明确了项目背景、研究任务和报告结构。
    -   **第二章 开发环境及工具介绍**：详细列出了项目所需的环境、语言和关键库。

## 4. 后续任务（交由Claude处理）

接下来的核心任务是编码实现项目功能，并完成课程设计报告的其余部分。建议按以下步骤进行：

### 4.1. 任务一：项目结构搭建

请在根目录 `d:\项目\计算机网络课设\` 下创建一个名为 `LightweightPacketAnalyzer` 的项目文件夹。建议的项目结构如下：

```
LightweightPacketAnalyzer/
├── src/                  # 源代码目录
│   ├── main.py           # GUI主程序入口
│   ├── sniffer.py        # 负责网络抓包的模块
│   ├── processor.py      # 负责数据处理和统计的模块
│   └── visualizer.py     # 负责图表生成和显示的模块
├── requirements.txt      # 项目依赖文件
└── README.md             # 项目说明文件
```

### 4.2. 任务二：核心功能编码

1.  **`sniffer.py`**：
    -   实现一个函数，使用 `scapy.sniff` 来捕获数据包。
    -   该函数应能接受网卡名称、捕获数量/时长以及一个回调函数作为参数。
    -   在回调函数中，对捕获到的数据包进行初步过滤，只处理IP包。

2.  **`processor.py`**：
    -   实现一个类或一组函数，用于接收 `sniffer` 传来的数据包。
    -   维护一个字典，以源IP地址为键，数据包数量和总字节数为值。
    -   提供方法用于清空统计数据。

3.  **`visualizer.py`**：
    -   实现一个函数，接收 `processor` 处理后的统计数据（字典）。
    -   使用 `matplotlib` 将数据生成为柱状图。
    -   该函数需要能将生成的图表嵌入到Tkinter的Canvas中。

4.  **`main.py`**：
    -   使用 `Tkinter` 搭建主GUI界面。
    -   界面应包含：
        -   一个用于选择网络接口的下拉列表。
        -   “开始捕获”和“停止捕获”按钮。
        -   一个用于显示实时统计数据的文本框或列表框。
        -   一个用于嵌入Matplotlib图表的Canvas区域。
    -   将 `sniffer`, `processor`, `visualizer` 模块的功能集成到GUI的事件处理中。

### 4.3. 任务三：完善课程设计报告

请基于已有的 `docs/课程设计报告.md`，继续撰写以下章节：

-   **第三章 需求分析**：详细描述功能和非功能需求。
-   **第四章 系统设计**：绘制系统架构图（建议使用PlantUML），进行模块和UI的详细设计。
-   **第五章 系统实现及测试**：贴出核心代码，并描述测试过程和结果。
-   **第六章 总结与展望**：总结工作，分析不足，提出改进方向。

## 5. 用户特定要求与记忆

用户已明确以下几点，请在后续工作中遵守：

-   **生成总结性Markdown文档**：在关键节点或完成任务后，提供清晰的Markdown格式总结。
-   **不要生成测试脚本**：用户不要求独立的测试脚本文件。
-   **编译与运行**：在需要时，提供编译和运行项目的明确指令。
-   **图表语法**：在Markdown文档中绘制图表时，请使用 **PlantUML** 语法。

---

交接完毕。祝后续开发顺利！